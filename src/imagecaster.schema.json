{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://imagecaster.org/imagecaster.schema.json",
  "title": "ImageCaster",
  "description": "The configuration for ImageCaster.",
  "type": "object",
  "definitions": {
    "tag": {
      "title": "Tag",
      "description": "A piece of metadata for images.",
      "type": "object",
      "properties": {
        "tag": {
          "title": "Tag",
          "description": "The name of the tag to set.",
          "type": "string"
        },
        "value": {
          "title": "Value",
          "description": "The value of the tag to set.",
          "type": "string"
        }
      }
    },
    "modulate": {
      "title": "Modulate",
      "description": "A modulation profile, define the brightness/saturation/hue to change.",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the color to export.",
          "type": "string"
        },
        "prefix": {
          "title": "Prefix",
          "description": "The prefix to prepend to the file name when exporting.",
          "type": "string"
        },
        "brightness": {
          "title": "Brightness",
          "description": "What to adjust the brightness by.",
          "type": "number",
          "default": 100,
          "minimum": 0,
          "maximum": 200
        },
        "saturation": {
          "title": "Saturation",
          "description": "What to adjust the saturation by.",
          "type": "number",
          "default": 100,
          "minimum": 0,
          "maximum": 200
        },
        "hue": {
          "title": "Hue",
          "description": "What to adjust the hue by.",
          "type": "number",
          "default": 100,
          "minimum": 0,
          "maximum": 200
        }
      }
    }
  },
  "properties": {
    "export": {
      "title": "Export",
      "description": "Define the input images and how they should be exported.",
      "type": "object",
      "properties": {
        "input": {
          "title": "Input",
          "description": "A pattern matching the input files.",
          "type": "string"
        },
        "metadata": {
          "title": "Metadata",
          "description": "Set metadata on the exported images, like Exif or IPTC data.",
          "type": "object",
          "properties": {
            "exif": {
              "title": "Exif",
              "description": "How Exif tags should be applied to images.",
              "type": "object",
              "properties": {
                "tags": {
                  "title": "Tags",
                  "description": "All the Exif tags to assign to exported images.",
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/tag"
                  }
                }
              }
            }
          }
        },
        "sizes": {
          "title": "Sizes",
          "description": "Configuration to resize the images.",
          "type": "object",
          "properties": {
            "filter": {
              "title": "Filter",
              "description": "The filter to use when resizing images.",
              "type": "string"
            },
            "dimensions": {
              "title": "Dimensions",
              "description": "All the sizes to export the images at.",
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "colors": {
          "title": "Colors",
          "description": "Configuration to modulate the colors of the images.",
          "type": "object",
          "properties": {
            "mask": {
              "title": "Mask",
              "description": "A greyscale mask that marks when areas to modulate.",
              "type": "string"
            },
            "modulate": {
              "title": "Modulate",
              "description": "All the colors to export the images as.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/modulate"
              }
            }
          }
        }
      }
    },
    "montages": {
      "title": "Montages",
      "description": "Collect images together into montages.",
      "type": "array",
      "items": {
        "properties": {
          "name": {
            "title": "Name",
            "description": "The name of the this montage, this will be the file name.",
            "type": "string"
          },
          "pattern": {
            "title": "Pattern",
            "description": "A pattern matching all images desired for montage together.",
            "type": "string"
          }
        }
      }
    },
    "archives": {
      "title": "Archives",
      "description": "Collect images together into zip archives.",
      "type": "array",
      "items": {
        "properties": {
          "name": {
            "title": "Name",
            "description": "The name of the this archive, this will be the file name.",
            "type": "string"
          },
          "sources": {
            "title": "Sources",
            "description": "All files or directories that should be bundled into the archive.",
            "type": "array",
            "items": {
              "title": "Source",
              "description": "The location of a file or directory.",
              "type": "string"
            }
          }
        }
      }
    },
    "checks": {
      "title": "Checks",
      "description": "Validate that the project structure satisifed standards.",
      "type": "object",
      "properties": {
        "power-of-two": {
          "title": "Power of Two",
          "description": "Verify that the specified images are powers of two.",
          "type": "array",
          "items": {
            "title": "Source",
            "description": "",
            "type": "string"
          }
        },
        "resolution-matches": {
          "title": "Resolution Matches",
          "description": "Verify that the images resolutions match.",
          "type": "array",
          "items": {
            "title": "Source",
            "description": "",
            "type": "object"
          }
        },
        "file-exists": {
          "title": "File Exists",
          "description": "Verify that the a particular file exists from another file.",
          "type": "array",
          "items": {
            "type": "object"
          }
        },
        "naming-convention": {
          "title": "Naming Convention",
          "description": "Ensure all naming conventions are followed.",
          "type": "array",
          "items": {
            "type": "object"
          }
        }
      }
    }
  }
}
